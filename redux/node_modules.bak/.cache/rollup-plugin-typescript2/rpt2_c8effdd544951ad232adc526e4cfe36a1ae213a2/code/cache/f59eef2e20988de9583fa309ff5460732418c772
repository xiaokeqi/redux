{"code":"import compose from './compose';\r\nexport default function applyMiddleware(...middlewares) {\r\n    return (createStore) => (reducer, ...args) => {\r\n        const store = createStore(reducer, ...args);\r\n        let dispatch = () => {\r\n            throw new Error('Dispatching while constructing your middleware is not allowed. ' +\r\n                'Other middleware would not be applied to this dispatch.');\r\n        };\r\n        const middlewareAPI = {\r\n            getState: store.getState,\r\n            dispatch: (action, ...args) => dispatch(action, ...args)\r\n        };\r\n        const chain = middlewares.map(middleware => middleware(middlewareAPI));\r\n        dispatch = compose(...chain)(store.dispatch);\r\n        return {\r\n            ...store,\r\n            dispatch\r\n        };\r\n    };\r\n}\r\n//# sourceMappingURL=applyMiddleware.js.map","references":["/Users/lidandan/beike/demo/redux/src/compose.ts","/Users/lidandan/beike/demo/redux/src/types/middleware.ts","/Users/lidandan/beike/demo/redux/src/types/actions.ts","/Users/lidandan/beike/demo/redux/src/types/store.ts","/Users/lidandan/beike/demo/redux/src/types/reducers.ts"],"map":"{\"version\":3,\"file\":\"applyMiddleware.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/applyMiddleware.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,OAAO,MAAM,WAAW,CAAA;AAsD/B,MAAM,CAAC,OAAO,UAAU,eAAe,CACrC,GAAG,WAAyB;IAE5B,OAAO,CAAC,WAAyB,EAAE,EAAE,CAAC,CACpC,OAAsB,EACtB,GAAG,IAAW,EACd,EAAE;QACF,MAAM,KAAK,GAAG,WAAW,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,CAAA;QAC3C,IAAI,QAAQ,GAAa,GAAG,EAAE;YAC5B,MAAM,IAAI,KAAK,CACb,iEAAiE;gBAC/D,yDAAyD,CAC5D,CAAA;QACH,CAAC,CAAA;QAED,MAAM,aAAa,GAAkB;YACnC,QAAQ,EAAE,KAAK,CAAC,QAAQ;YACxB,QAAQ,EAAE,CAAC,MAAM,EAAE,GAAG,IAAI,EAAE,EAAE,CAAC,QAAQ,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC;SACzD,CAAA;QACD,MAAM,KAAK,GAAG,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,CAAA;QACtE,QAAQ,GAAG,OAAO,CAAkB,GAAG,KAAK,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;QAE7D,OAAO;YACL,GAAG,KAAK;YACR,QAAQ;SACT,CAAA;IACH,CAAC,CAAA;AACH,CAAC\"}"}
